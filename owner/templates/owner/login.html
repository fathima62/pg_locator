{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    <script src="{% static 'js/login.js' %}"></script>
</head>

<body>

    <div id="div1" class="col-md-12">
        <span class="text-danger">{{error_msg}}</span>
        <form action="" class="form" action="" method="POST">
            {% csrf_token %}
            <h3 class="text-center text-info">Login</h3>
            <label for="" class="text-info"> User name : </label> <br>
            <input id="username" name="email" type="email" class="form-control"> <span id="error_message"></span><br>
            <label for="" class="text-info"> Password : </label>
            <input id="password" name="password" type="password" class="form-control"><span id="error_password"></span> <span class="text-secondary">show password</span><input id="checkbox" type="checkbox"  onchange="show_password()">
        <br>
            <input type="submit"  class="btn btn-info btn-md bg-info " value="submit"
                onclick="return valid()">
                
            <div id="register-link" class="text-right">
                <a href="{% url 'owner:signup' %}" class="text-info">Register here</a>
            </div>
        </form>
    </div>
    <script>
        function valid() {
            var username = document.getElementById('username').value
            var password = document.getElementById('password').value
            var checkbox = document.getElementById('checkbox').value
            var check_status = 1



            if (username == '') {
                document.getElementById('error_message').innerHTML = 'Fill out this field'
                document.getElementById('error_message').style.color = 'red'
                var check_status = 0
            }
            else {
                document.getElementById('error_message').innerHTML = ''
            }
            if (password == '') {
                document.getElementById('error_password').innerHTML = 'Fill out this field'
                document.getElementById('error_password').style.color = 'red'
                var check_status = 0
            }
            else {
                document.getElementById('error_password').innerHTML = ''
            }
            if (check_status == 0) {
                return false
            }
            else {
                location.href = "{% url 'owner:owner_login' %}"
            }
        }
        
        function show_password() {
            if (document.getElementById('checkbox').checked == true) {
                document.getElementById('password').type = 'text'

            }
            else {
                document.getElementById('password').type = 'password'
            }
        }
    </script>
</body>

</html>